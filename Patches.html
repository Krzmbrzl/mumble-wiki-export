<h1>Submitting a patch to Mumble</h1>

<p>So you have something you wish to contribute to the Mumble project? Great! There are a few small hoops you'll have to jump through though :)</p>

<h2>Checklist</h2>

<ul>
	<li>Are you the sole, original author of the work you are submitting? If not, is the original author(s) copyright statement and licensing included?</li>
	<li>Can the work be licensed under the BSD license? This is a requirement for being part of Mumble.</li>
	<li>Is the work based on the current development version of Mumble, and not just the last stable release?</li>
</ul>
<h2>Necessary information</h2>

<p>We use git, which credits patches both to the author and the commiter. We'll deal with the commiter part, but what we need from you is:</p>

<ul>
	<li>Your real name (no aliases, please)</li>
	<li>Your prefered email address</li>
	<li>A one-line commit message describing the change.</li>
</ul>
<h2>Submitting the patch</h2>

<p>Patches ideally should be submitted as pull requests [https://github.com/mumble-voip/mumble to our repository on github]. Alternatively you can use the instructions below and submit your patch to our old [https://sourceforge.net/tracker/?group_id=147372&amp;atid=768007 "Patches" tracker on sourceforge].</p>

<h1>Producing the patch</h1>

<p>Mumble uses git, so your patch will end up in git sooner or later.</p>

<h2>Sending complete files</h2>

<p>Please ''do not'' do this. If someone else has edited the file between the time you started editing and the time your file should be applied, those changes would be overwritten. So "full file" submissions are only accpeted if they don't overwrite any other changes.</p>

<h2>Unified diff</h2>

<p>If you're on *nix, a regular 'diff u', to be applied with '-p1' is acceptable.</p>

<h2>Git format-patch</h2>

<p>This is the prefered method of patch, as it contains name, email, commit log and everything else we need directly in the patch.</p>

<h1>Git crash course</h1>

<p>Here's a short crash course on how to use git with Mumble.</p>

<p>For more information and documentation on Git you may want to check (one of) the following sources: [http://git-scm.com/ official website], [http://gitref.org/ gitref], [http://progit.org/book/ progit book], [http://marklodato.github.com/visual-git-guide/index-en.html visual guide], [http://help.github.com/ github help].</p>

<h2>Installation</h2>

<p>First of all, you need git. Install the suitable package for your distribution.</p>

<p>If you're on Win32, we recommend [http://code.google.com/p/msysgit/ msysgit] (install it with putting git (and only git) in the path or the "bash only" option -- start the "Git Bash" once you're done). If you (really) need a GUI, check [http://code.google.com/p/tortoisegit/ tortoiseGit], or alternatively one of the [http://en.wikipedia.org/wiki/Git_%28software%29#Portability other GUIs].</p>

<h2>Initial setup</h2>

<p> git config --global user.name "Your Name"<br />
 git config --global user.email "username@domain.tld"<br />
 git config --global branch.autosetuprebase always</p>

<p>(if, and only if, you are on Windows)<br />
 git config --global core.autocrlf true</p>

<h2>Cloning Mumble</h2>

<p>Make a new directory and go into it:<br />
 cd<br />
 mkdir mumble-git<br />
 cd mumble-git</p>

<p>Clone the upstream Mumble repository:<br />
 git clone git://github.com/mumble-voip/mumble.git .</p>

<h2>Editing</h2>

<p>First, you probably want to make a branch<br />
 git branch --track "mybranchname" origin/master<br />
 git checkout "mybranchname"</p>

<p>You now have a local branch. You can switch back to the original by writing<br />
 git checkout master</p>

<p>And back into your branch again with<br />
 git checkout "mybranchname"</p>

<p>You'll likely want to keep your local branch around until the changes have been accepted upstream.</p>

<p>Now, on "mybranchname", start editing.</p>

<h2>Seeing what you've changed</h2>
<p> git status<br />
Will show a list of changed files. To add a completely new file, use<br />
 git add "filename"</p>

<p> git diff<br />
Will show you the differences you've added. Note that if you're adding completely new file, they won't show up in "git diff" -- there's nothing to diff it from.</p>

<h2>Committing your changes</h2>

<p>When you are happy with a set of changes:<br />
 git commit -a -m "Description of changes. This goes in the Changelog for the next release."</p>

<p>If you just want to modify your last commit a bit, you can use<br />
 git commit -a --amend -m "Description of changes."</p>

<p>Note that you should never amend a commit that has made it into the official Mumble repository.</p>

<h2>Throwing away your changes</h2>

<p>If you make a change you are unhappy with, you can reset the file to the last commit.<br />
 git checkout "filename"<br />
Or, if you want everything to go back to the way it was:<br />
 git reset --hard</p>

<h2>Updating changes from upstream (optional)</h2>

<p> git pull --rebase<br />
Will fetch changes that have been done upstream, and try to integrate them with your changes. If you've edited the same files in the same place that has happened upstream, this will fail with a lot of scary looking error messages. If that happens, we recommend you simply do:<br />
 git rebase --abort</p>

<p>And then seek help from someone more experienced with git to help you.</p>

<h2>Making a patch</h2>
<p>When you are ready to send off the patches, make sure you have commited them all, then write:<br />
 git format-patch <small>find-copies-harder </small>patience origin</p>

<p>This will produce a series of files, one for each commit you've made. Submit the files to the patch tracker on sourceforge :)</p>

<p><a href="Category:Development">Category:Development</a><br />
<a href="Category:Contribution">Category:Contribution</a></p>